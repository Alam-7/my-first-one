<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>小兔鲜儿 - 新鲜 惠民 快捷!</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="renderer" content="webkit" />
    <!-- <link rel="stylesheet" href="//at.alicdn.com/t/font_1939705_bgtmkonu28.css"> -->
    <link rel="stylesheet" href="./css/common.css" />
    <link rel="stylesheet" href="./css/product.css" />
  </head>

  <body>
    <!-- 项部导航 -->
    <div class="xtx_topnav">
      <div class="wrapper">
        <!-- 顶部导航 -->
        <ul class="xtx_navs">
          <li>
            <a href="javascript:;">请先登录</a>
          </li>
          <li>
            <a href="javascript:;">免费注册</a>
          </li>
          <li>
            <a href=".javascript:;">我的订单</a>
          </li>
          <li>
            <a href="javascript:;">会员中心</a>
          </li>
          <li>
            <a href="javascript:;">帮助中心</a>
          </li>
          <li>
            <a href="javascript:;">在线客服</a>
          </li>
          <li>
            <a href="javascript:;">
              <i class="mobile sprites"></i>
              手机版
            </a>
          </li>
        </ul>
      </div>
    </div>
    <!-- 头部 -->
    <div class="xtx_header">
      <div class="wrapper">
        <!-- 网站Logo -->
        <h1 class="xtx_logo"><a href="/">小兔鲜儿</a></h1>
        <!-- 主导航 -->
        <div class="xtx_navs">
          <ul class="clearfix">
            <li>
              <a href="javascript:;">首页</a>
            </li>
            <li>
              <a href="javascript:;">生鲜</a>
            </li>
            <li>
              <a href="javascript:;">美食</a>
            </li>
            <li>
              <a href="javascript:;">餐厨</a>
            </li>
            <li>
              <a href="javascript:;">电器</a>
            </li>
            <li>
              <a href="javascript:;">居家</a>
            </li>
            <li>
              <a href="javascript:;">洗护</a>
            </li>
            <li>
              <a href="javascript:;">孕婴</a>
            </li>
            <li>
              <a href="javascript:;">服装</a>
            </li>
          </ul>
        </div>
        <!-- 站内搜索 -->
        <div class="xtx_search clearfix">
          <!-- 购物车 -->
          <a href="javascript:;" class="xtx_search_cart sprites">
            <i>2</i>
          </a>
          <!-- 搜索框 -->
          <div class="xtx_search_wrapper">
            <input
              type="text"
              placeholder="搜一搜"
              onclick="location.href='./search.html'"
            />
          </div>
        </div>
      </div>
    </div>
    <div class="xtx-wrapper">
      <div class="container">
        <!-- 面包屑 -->
        <div class="xtx-bread">
          <a href="javascript:;"> 首页 > </a>
          <a href="javascript:;"> 电子产品 > </a>
          <a href="javascript:;"> 电视 > </a>
          <span>小米电视4A 32英寸</span>
        </div>
        <!-- 商品信息 -->
        <div class="xtx-product-info">
          <div class="left">
            <div class="pictrue">
              <div class="middle">
                <img src="./images/1.jpg" alt="" />
                <div class="layer"></div>
              </div>
              <div class="small">
                <ul>
                  <li class="active"><img src="./images/1.jpg" alt="" /></li>
                  <li><img src="./images/2.jpg" alt="" /></li>
                  <li><img src="./images/3.jpg" alt="" /></li>
                  <li><img src="./images/4.jpg" alt="" /></li>
                  <li><img src="./images/5.jpg" alt="" /></li>
                </ul>
              </div>
              <div class="large"></div>
            </div>
            <div class="other">
              <ul>
                <li>
                  <p>销量人气</p>
                  <p>1999+</p>
                  <p>销量人气</p>
                </li>
                <li>
                  <p>商品评价</p>
                  <p>999+</p>
                  <p>查看评价</p>
                </li>
                <li>
                  <p>收藏人气</p>
                  <p>299+</p>
                  <p><a href="javascript:;">收藏商品</a></p>
                </li>
                <li>
                  <p>品牌信息</p>
                  <p>小米</p>
                  <p><a href="javascript:;">品牌主页</a></p>
                </li>
              </ul>
            </div>
          </div>
          <div class="right">
            <h3 class="name">小米电视4A 32英寸</h3>
            <p class="desc">
              全面屏设计 / 高清分辨率 / 海量内容 / 1G+4G大内存 / 多核处理器
            </p>
            <p class="price">
              <span class="now">¥1899</span><span class="old">¥2999</span>
            </p>
            <div class="address">
              <div class="item">
                <div class="dt">促销</div>
                <div class="dd">12月好物放送，App领券购买直降120元</div>
              </div>
              <div class="item">
                <div class="dt">配送</div>
                <div class="dd">
                  至
                  <div class="box">
                    <span>陕西 西安 <i></i></span>
                  </div>
                </div>
              </div>
              <div class="item">
                <div class="dt">服务</div>
                <div class="dd">
                  <span class="fw">无忧退货</span>
                  <span class="fw">快速退款</span>
                  <span class="fw">免费包邮</span>
                  <a href="#" class="lj">了解详情</a>
                </div>
              </div>
            </div>
            <div class="attrs">
              <div class="item">
                <div class="dt">颜色</div>
                <div class="dd">
                  <img src="./uploads/img/cate-06.png" alt="" />
                  <img src="./uploads/img/cate-07.png" alt="" />
                </div>
              </div>
              <div class="item">
                <div class="dt">颜色</div>
                <div class="dd">
                  <span class="size">22英寸</span>
                  <span class="size">42英寸</span>
                  <span class="size">52英寸</span>
                  <span class="size">62英寸</span>
                </div>
              </div>
              <div class="item">
                <div class="dt">数量</div>
                <div class="dd">
                  <div class="num">
                    <a href="javascript:;">-</a>
                    <input type="text" value="1" />
                    <a href="javascript:;">+</a>
                  </div>
                </div>
              </div>
              <div class="item">
                <a class="buy" href="javascript:;">立即购买</a>
              </div>
            </div>
          </div>
        </div>
        <!-- 同类产品推荐 -->
        <div class="xtx-relevant-product">
          <h3>同类产品推荐</h3>
          <ul>
            <li>
              <a href="#">
                <img src="./uploads/history_goods_1.jpg" alt="" />
                <p class="name">USB Type C数据线</p>
                <p class="desc">快速充电，稳定传输</p>
                <p class="price">¥39</p>
              </a>
            </li>
            <li>
              <a href="#">
                <img src="./uploads/history_goods_2.jpg" alt="" />
                <p class="name">红米Note 5A 高配版</p>
                <p class="desc">1600万像素柔光自拍</p>
                <p class="price">¥1899</p>
              </a>
            </li>
            <li>
              <a href="#">
                <img src="./uploads/history_goods_3.jpg" alt="" />
                <p class="name">VGA网口多功能转接器</p>
                <p class="desc">小巧便携，节省桌面空间</p>
                <p class="price">¥19</p>
              </a>
            </li>
            <li>
              <a href="#">
                <img src="./uploads/history_goods_4.jpg" alt="" />
                <p class="name">笔记本Pro 15.6"</p>
                <p class="desc">全金属强化机身搭配独显</p>
                <p class="price">¥4899</p>
              </a>
            </li>
          </ul>
          <a href="javascript:;" class="prev"
            ><span class="iconfont icon-angle-left"></span
          ></a>
          <a href="javascript:;" class="next"
            ><span class="iconfont icon-angle-right"></span
          ></a>
        </div>
        <!-- 商品详情 -->
        <div class="xtx-product-detail">
          <div class="main">
            <div class="cont">
              <div class="tab-head">
                <a href="javascript:;">商品详情</a>
                <a href="javascript:;">商品评价<span>（998+）</span></a>
              </div>
              <div class="tab-pane">
                <!-- 静态属性 -->
                <div class="attrs">
                  <div class="item">
                    <span>商品名称：</span><span>小米L32M5-AZ </span>
                  </div>
                  <div class="item">
                    <span>商品编号：</span><span>4620979 </span>
                  </div>
                  <div class="item">
                    <span>商品毛重：</span><span>8.0kg </span>
                  </div>
                  <div class="item">
                    <span>商品产地：</span><span>中国大陆 </span>
                  </div>
                  <div class="item">
                    <span>屏幕尺寸：</span><span>32英寸及以下 </span>
                  </div>
                  <div class="item">
                    <span>能效等级：</span><span>三级能效 </span>
                  </div>
                  <div class="item">
                    <span>电视类型：</span><span>人工智能 </span>
                  </div>
                  <div class="item">
                    <span>选购指数：</span><span>6.9-6.0 </span>
                  </div>
                  <div class="item">
                    <span>观看距离：</span><span>2m以下（≤32英寸）</span>
                  </div>
                </div>
                <!-- 详情内容 -->
                <div class="detail">
                  <img
                    src="https://yanxuan-item.nosdn.127.net/39d7f2407c90d0442566a719146ee9c1.jpg"
                    alt=""
                    data-v-2c43c764=""
                  /><img
                    src="https://yanxuan-item.nosdn.127.net/7dfee58e7c6b3996badf368610ed62b1.jpg"
                    alt=""
                    data-v-2c43c764=""
                  /><img
                    src="https://yanxuan-item.nosdn.127.net/d1acff1a29bddd21c2ad337d892a9f7c.jpg"
                    alt=""
                    data-v-2c43c764=""
                  /><img
                    src="https://yanxuan-item.nosdn.127.net/ac722b04b2014ac337d8db695ee46f0c.jpg"
                    alt=""
                    data-v-2c43c764=""
                  /><img
                    src="https://yanxuan-item.nosdn.127.net/c63e36faa0848ee37c825897f5cec179.jpg"
                    alt=""
                    data-v-2c43c764=""
                  /><img
                    src="https://yanxuan-item.nosdn.127.net/e0f13dbf14c8a2f07e86bf3df3ca002b.jpg"
                    alt=""
                    data-v-2c43c764=""
                  />
                </div>
              </div>
              <div class="tab-pane" style="display: none">评价</div>
            </div>
            <!-- 注意事项 -->
            <div class="warn">
              <h3>注意事项</h3>
              <p class="tit">• 购买运费如何收取？</p>
              <p>
                单笔订单金额(不含运费)满88元免邮费；不满88元，每单收取10元运费。（港澳台地区需满500元免邮费；不满500元，每单收取30元运费)
              </p>
              <br />
              <br />
              <p class="tit">• 使用什么快递发货?</p>
              <p>默认使用顺丰快递发货(个别商品使用其他快递）</p>
              <p>配送范围覆盖全国大部分地区(港澳台地区除外）。</p>
              <br />
              <br />
              <p class="tit">• 如何申请退货?</p>
              <p>
                1.自收到商品之日起30日内，顾客可申请无忧退货，退款将原路返还，不同的银行处理时间不同，预计1-5个工作日到账；
              </p>
              <p>2.内裤和食品等特殊商品无质量问题不支持退货；</p>
              <p>
                3.退货流程：
                确认收货-申请退货-客服审核通过-用户寄回商品-仓库签收验货-退款审核-退款完成；
              </p>
              <p>
                4.因小兔鲜儿产生的退货，如质量问题，退货邮费由小兔鲜儿承担，退款完成后会以现金券的形式报销。因客户个人原因产生的退货，购买和寄回运费由客户个人承担。
              </p>
            </div>
          </div>
          <div class="aside">
            <div class="tit">24小时热销榜</div>
            <div class="product">
              <img src="./uploads/fresh_goods_3.jpg" alt="" />
              <p class="name">USB Type C数据线</p>
              <p class="desc">快速充电，稳定传输</p>
              <p class="price">¥29</p>
            </div>
            <div class="product">
              <img src="./uploads/fresh_goods_3.jpg" alt="" />
              <p class="name">USB Type C数据线</p>
              <p class="desc">快速充电，稳定传输</p>
              <p class="price">¥29</p>
            </div>
            <div class="product">
              <img src="./uploads/fresh_goods_3.jpg" alt="" />
              <p class="name">USB Type C数据线</p>
              <p class="desc">快速充电，稳定传输</p>
              <p class="price">¥29</p>
            </div>
            <div class="tit">专题推荐</div>
            <div class="special">
              <img src="./uploads/discuss_goods_1.jpg" alt="" />
              <p class="name">一往无前，诞生于崛起</p>
            </div>
            <div class="special">
              <img src="./uploads/discuss_goods_1.jpg" alt="" />
              <p class="name">一往无前，诞生于崛起</p>
            </div>
            <div class="special">
              <img src="./uploads/discuss_goods_1.jpg" alt="" />
              <p class="name">一往无前，诞生于崛起</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 公共底部 -->
    <div class="xtx_footer clearfix">
      <div class="wrapper">
        <!-- 联系我们 -->
        <div class="contact clearfix">
          <dl>
            <dt>客户服务</dt>
            <dd class="chat">在线客服</dd>
            <dd class="feedback">问题反馈</dd>
          </dl>
          <dl>
            <dt>关注我们</dt>
            <dd class="weixin">公众号</dd>
            <dd class="weibo">微博</dd>
          </dl>
          <dl>
            <dt>下载APP</dt>
            <dd class="qrcode">
              <img src="./uploads/qrcode.jpg" />
            </dd>
            <dd class="download">
              <span>扫描二维码</span>
              <span>立马下载APP</span>
              <a href="javascript:;">下载页面</a>
            </dd>
          </dl>
          <dl>
            <dt>服务热线</dt>
            <dd class="hotline">
              400-0000-000
              <small>周一至周日 8:00-18:00</small>
            </dd>
          </dl>
        </div>
      </div>
      <!-- 其它 -->
      <div class="extra">
        <div class="wrapper">
          <!-- 口号 -->
          <div class="slogan">
            <a href="javascript:;" class="price">价格亲民</a>
            <a href="javascript:;" class="express">物流快捷</a>
            <a href="javascript:;" class="quality">品质新鲜</a>
          </div>
          <!-- 版权信息 -->
          <div class="copyright">
            <p>
              <a href="javascript:;">关于我们</a>
              <a href="javascript:;">帮助中心</a>
              <a href="javascript:;">售后服务</a>
              <a href="javascript:;">配送与验收</a>
              <a href="javascript:;">商务合作</a>
              <a href="javascript:;">搜索推荐</a>
              <a href="javascript:;">友情链接</a>
            </p>
            <p>CopyRight &copy; 小兔鲜儿</p>
          </div>
        </div>
      </div>
    </div>
    <script>
      //Part1:小盒子的处理：当鼠标移入小盒子的时候 更改小盒子的激活样式  同时中盒子更改图片
      //1.小盒子的样式更改
      //设计：可以获取小盒子的父级元素 通过事件委托来处理 然后找到小盒子的序号或者中盒子图片的src地址
      //1.1获取元素：小盒子的父级元素
      const small = document.querySelector(".small");
      // console.log(small);
      //1.2绑定事件
      small.addEventListener("mouseover", (e) => {
        //1.2.1首先检验是否是小盒子
        if (e.target.tagName === "IMG") {
          // console.log("img");
          //1.2.2删去正在active的小盒子 增加现在的小盒子的active
          document.querySelector(".small .active").classList.remove("active");
          e.target.classList.add("active");
          // 1.2.3找到小盒子能够与中等盒子对应的标记 更改中等盒子里的图片  发现图片尺寸能够通过css进行自适应 因而仅需通过src取出相同的图片并赋值就可以
          // console.log(e.target);
          const middle = (document.querySelector(
            ".xtx-product-info .middle img"
          ).src = e.target.src);
          // 大盒子更换背景图片
          large.style.backgroundImage = `url(${e.target.src})`;
        }
      });

      // Part2:中等盒子移入设计和大盒子的显示设计 当鼠标移入中等盒子时右侧显示大盒子（大盒子里的图片需要在上一步更改） 同时要有一个黑色放大镜罩子的设计（可以分装函数，在Part3完成，应该是鼠标移动函数）
      //设计：为中等盒子绑定鼠标移入和离开事件 内部控制大盒子的display与否
      //2.1获取元素：中等盒子
      const middle = document.querySelector(".xtx-product-info .middle ");
      const large = document.querySelector(".xtx-product-info .large");
      let timer = null;
      //2.2绑定鼠标移入事件
      middle.addEventListener("mouseover", () => {
        //发现大盒子并没有元素内容，因而需要为大盒子添加内容即照片 要么重新创建节点要么直接copy中等盒子的内容
        //但是发现大盒子的图片是由css中的背景决定的 那是否可以在之后就通过修改它css中的背景图片显示的位置来实现实时的局部放大样式 然后此处仅display
        clearTimeout(timer);
        large.style.display = "block";
      });
      //2.3绑定鼠标移出事件
      middle.addEventListener("mouseleave", () => {
        //设置定时函数 设计更友好
        timer = setTimeout(() => {
          large.style.display = "none";
        }, 200);
      });
      //2.4为大盒子绑定鼠标移入事件：但是很显然当大盒子不显示的时候大盒子是否存在？是，只是不显示 那当大盒子未显示而直接移入时就会完蛋  那就首先判断大盒子是否已经显示，虽然有些本
      //为什么在大盒子没有显示的时候 进入大盒子不算作进入？
      large.addEventListener("mouseenter", () => {
        // console.log("进入大盒子");

        clearTimeout(timer);
        large.style.display = "block";
      });
      large.addEventListener("mouseleave", () => {
        //设置定时函数 设计更友好
        timer = setTimeout(() => {
          large.style.display = "none";
        }, 200);
      });
      //上述代码可以封装未shou hide两个函数反复调用，但为了保留原始注释此处不再分装
      //
      // Part3:当用户使用鼠标在中盒子内部的特定位置移动时 右侧的大盒子显示以对应位置为中心的放大图 同时中盒子中始终有黑罩子的跟随 当鼠标进入到中盒子的足够宽高范围后再显示
      //设计部分：1.获取鼠标的实时位置 2.根据实时位置为右侧大盒子更换背景图的位置 3.仍然根据鼠标的实时位置，适当显示黑罩子，并使黑罩子跟随

      //进行一个事件思维的思考：当鼠标移动的时候有什么事情需要发生？显然1.黑色罩子的跟随，2.大盒子背景图片的位置改变
      //而黑色罩子的显示似乎与以上二者无关 那么我们是否可以首先完成静态事件（即一次即可执行的脚本） 然后再去根据事件分类来去完成其他多次执行脚本的“动态事件”
      //首先先完成一些可视化的简单的小东西 否则一次完成一个大功能可能导致调试和进展都难以维系
      //3.1静态事件：黑色罩子的显示
      const layer = document.querySelector(".layer");
      // console.log(layer);
      middle.addEventListener("mouseenter", () => {
        layer.style.display = "block";
      });
      middle.addEventListener("mouseleave", () => {
        layer.style.display = "none";
      });
      //显然现在能够发现出现了但并没有跟随 那么接下来需要着重考虑的就是鼠标位置的获取 然后分别交给黑色罩子和右侧大盒子即可
      //3.2动态事件：更改黑色罩子位置和右侧大盒子的显示位置
      //接下来先绑定鼠标移动事件
      middle.addEventListener("mousemove", (e) => {
        //3.2.1怎么获取鼠标现在在中盒子中的相对位置？
        //用鼠标现在在页面中的位置减去中盒子在页面中和位置（还玩参考系）
        let x = e.pageX - middle.getBoundingClientRect().left; //获取横坐标
        let y =
          e.pageY -
          middle.getBoundingClientRect().top -
          document.documentElement.scrollTop; //记得减去顶部被卷去的长度

        //3.2.2接下来调整黑色罩子的位置
        // 黑色遮罩移动 在 middle 盒子内 限定移动的距离
        if (x >= 0 && x <= 400 && y >= 0 && y <= 400) {
          // 黑色盒子不是一直移动的
          // 声明2个变量 黑色盒子移动的 mx my变量
          let mx = 0,
            my = 0;
          if (x < 100) mx = 0;
          if (x >= 100 && x <= 300) mx = x - 100;
          if (x > 300) mx = 200;

          if (y < 100) my = 0;
          if (y >= 100 && y <= 300) my = y - 100;
          if (y > 300) my = 200;

          layer.style.left = mx + "px";
          layer.style.top = my + "px";
          // 大盒子的背景图片要跟随 中等盒子移动  存在的关系是 2倍
          large.style.backgroundPositionX = -2 * mx + "px";
          large.style.backgroundPositionY = -2 * my + "px";
          //注意这里的都是负数来去移动背景图的位置
        }
      });

      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //
      //  // 1. 获取三个盒子
      //     // 2. 小盒子 图片切换效果
      //     const small = document.querySelector('.small')
      //     //  中盒子
      //     const middle = document.querySelector('.middle')
      //     //  大盒子
      //     const large = document.querySelector('.large')
      //     // 2. 事件委托
      //     small.addEventListener('mouseover', function (e) {
      //       if (e.target.tagName === 'IMG') {
      //         // console.log(111)
      //         // 排他 干掉以前的 active  li 上面
      //         this.querySelector('.active').classList.remove('active')
      //         // 当前元素的爸爸添加 active
      //         e.target.parentNode.classList.add('active')
      //         // 拿到当前小图片的 src
      //         // console.log(e.target.src)
      //         // 让中等盒子里面的图片，src 更换为   小图片src
      //         middle.querySelector('img').src = e.target.src
      //         // 大盒子更换背景图片
      //         large.style.backgroundImage = `url(${e.target.src})`
      //       }
      //     })

      //     // 3. 鼠标经过中等盒子， 显示隐藏 大盒子
      //     middle.addEventListener('mouseenter', show)
      //     middle.addEventListener('mouseleave', hide)
      //     let timeId = null
      //     // 显示函数 显示大盒子
      //     function show() {
      //       // 先清除定时器
      //       clearTimeout(timeId)
      //       large.style.display = 'block'
      //     }
      //     // 隐藏函数 隐藏大盒子
      //     function hide() {
      //       timeId = setTimeout(function () {
      //         large.style.display = 'none'
      //       }, 200)
      //     }

      //     // 4. 鼠标经过大盒子， 显示隐藏 大盒子
      //     large.addEventListener('mouseenter', show)
      //     large.addEventListener('mouseleave', hide)

      //     // 5. 鼠标经过中等盒子，显示隐藏 黑色遮罩层
      //     const layer = document.querySelector('.layer')
      //     middle.addEventListener('mouseenter', function () {
      //       layer.style.display = 'block'
      //     })
      //     middle.addEventListener('mouseleave', function () {
      //       layer.style.display = 'none'
      //     })
      // // 6.移动黑色遮罩盒子
      // middle.addEventListener("mousemove", function (e) {
      //   // let x = 10, y = 20
      //   // console.log(11)
      //   // 鼠标在middle 盒子里面的坐标 = 鼠标在页面中的坐标 - middle 中等盒子的坐标 6666666666
      //   // console.log(e.pageX)鼠标在页面中的坐标
      //   // middle 中等盒子的坐标
      //   // console.log(middle.getBoundingClientRect().left)
      //   let x = e.pageX - middle.getBoundingClientRect().left;
      //   let y =
      //     e.pageY -
      //     middle.getBoundingClientRect().top -
      //     document.documentElement.scrollTop;
      //   // console.log(x, y)
      //   // 黑色遮罩移动 在 middle 盒子内 限定移动的距离
      //   if (x >= 0 && x <= 400 && y >= 0 && y <= 400) {
      //     // 黑色盒子不是一直移动的
      //     // 声明2个变量 黑色盒子移动的 mx my变量
      //     let mx = 0,
      //       my = 0;
      //     if (x < 100) mx = 0;
      //     if (x >= 100 && x <= 300) mx = x - 100;
      //     if (x > 300) mx = 200;

      //     if (y < 100) my = 0;
      //     if (y >= 100 && y <= 300) my = y - 100;
      //     if (y > 300) my = 200;

      //     layer.style.left = mx + "px";
      //     layer.style.top = my + "px";
      //     // 大盒子的背景图片要跟随 中等盒子移动  存在的关系是 2倍
      //     large.style.backgroundPositionX = -2 * mx + "px";
      //     large.style.backgroundPositionY = -2 * my + "px";
      //   }
      // });
    </script>
  </body>
</html>
