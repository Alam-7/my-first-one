<!DOCTYPE html>

<html>
  <head lang="en">
    <meta charset="UTF-8" />
    <title></title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }

      table {
        border-collapse: collapse;
        border-spacing: 0;
        border: 1px solid #c0c0c0;
        width: 500px;
        margin: 100px auto;
        text-align: center;
      }

      th {
        background-color: #09c;
        font: bold 16px "微软雅黑";
        color: #fff;
        height: 24px;
      }

      td {
        border: 1px solid #d0d0d0;
        color: #404060;
        padding: 10px;
      }

      .allCheck {
        width: 80px;
      }
    </style>
  </head>

  <body>
    <table>
      <tr>
        <th class="allCheck">
          <input type="checkbox" name="" id="checkAll" />
          <span class="all">全选</span>
        </th>
        <th>商品</th>
        <th>商家</th>
        <th>价格</th>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="check" class="ck" />
        </td>
        <td>小米手机</td>
        <td>小米</td>
        <td>￥1999</td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="check" class="ck" />
        </td>
        <td>小米净水器</td>
        <td>小米</td>
        <td>￥4999</td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="check" class="ck" />
        </td>
        <td>小米电视</td>
        <td>小米</td>
        <td>￥5999</td>
      </tr>
    </table>
    <script>
      //最终要求：点击全选 (如果有没有check的则全部checked 如果都check则全部取消check)  如果小复选框已经全选则大复选框也选中
      //注：checked属性的状态为布尔类型
      //获取元素
      const allCk = document.querySelector("#checkAll");
      const cks = document.querySelectorAll(".ck");

      // console.log(allCk);
      // console.log(cks);

      //1.点击全选则 所有按钮全选  小按钮同步大按钮状态
      allCk.addEventListener("click", () => {
        for (let i = 0; i < cks.length; i++) {
          cks[i].checked = allCk.checked;
        }
      });

      //2.小按钮控制大按钮  如果子代按钮都选中 则大按钮选中 反之不选
      for (let i = 0; i < cks.length; i++) {
        cks[i].addEventListener("click", () => {
          allCk.checked =
            document.querySelectorAll(".ck:checked").length === cks.length;
        });
      }
    </script>
  </body>
</html>
